<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="../assets/imgs/logo.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./assets\imgs\logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <title>Blue Horizon - Dashboard</title>


    <link rel="stylesheet" href="./../css/dashboards.css">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- scripts do Chart.js - 2022-1 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!--FONT AWESOME-->
    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
</head>

<body>

    <nav>
        <div class="navbar">
            <div class="container nav-container">

                <div class="area_icone_tema">
                    <div class="icone_tema">

                        <button id="trocaCor" onclick="changeColor()"><img src="../assets/imgs/day-night.png"
                                alt=""></button>

                    </div>
                </div>
                <div class="menu-items">
                    <div class="logo">
                        <img src="../assets/imgs/logo-semfundo.png">
                    </div>
                    <div class="foto-usuario">
                        <br>
                        <p>Olá, Usuário!</p>
                        <img src="../assets/imgs/mulher.png">
                        <p>Bem vindo(a) ao Blue Horizon!</p>

                    </div>
                    <br>
                    <li><svg class="navIcon" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg"
                            stroke="#003366">
                            <g id="SVGRepo_bgCarrier" stroke-width="003366"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"
                                stroke="#ff0000" stroke-width="0.144"></g>
                            <g id="SVGRepo_iconCarrier">
                                <path
                                    d="M16 7C16 9.2003366914 14.200336691 11 12 11C9.7900336686 11 8 9.2003366914 8 7C8 4.7900336686 9.7900336686 3 12 3C14.200336691 3 16 4.7900336686 16 7Z"
                                    stroke="003366" stroke-width="1.104" stroke-linecap="round" stroke-linejoin="round">
                                </path>
                                <path d="M12 14C8.1340033661 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z"
                                    stroke="003366" stroke-width="1.104" stroke-linecap="round" stroke-linejoin="round">
                                </path>
                            </g>
                        </svg><a href="#">Editar Perfil</a></li>
                    <li><svg class="navIcon" viewBox="-2.4 -2.4 28.80 28.80" fill="none"
                            xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"
                                stroke="#CCCCCC" stroke-width="0.384"></g>
                            <g id="SVGRepo_iconCarrier">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 7.75C11.3787 7.75 10.875 8.25368 10.875 8.875C10.875 9.28921 10.5392 9.625 10.125 9.625C9.71079 9.625 9.375 9.28921 9.375 8.875C9.375 7.42525 10.5503 6.25 12 6.25C13.4497 6.25 14.625 7.42525 14.625 8.875C14.625 9.58584 14.3415 10.232 13.883 10.704C13.7907 10.7989 13.7027 10.8869 13.6187 10.9708C13.4029 11.1864 13.2138 11.3753 13.0479 11.5885C12.8289 11.8699 12.75 12.0768 12.75 12.25V13C12.75 13.4142 12.4142 13.75 12 13.75C11.5858 13.75 11.25 13.4142 11.25 13V12.25C11.25 11.5948 11.555 11.0644 11.8642 10.6672C12.0929 10.3733 12.3804 10.0863 12.6138 9.85346C12.6842 9.78321 12.7496 9.71789 12.807 9.65877C13.0046 9.45543 13.125 9.18004 13.125 8.875C13.125 8.25368 12.6213 7.75 12 7.75ZM12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z"
                                    fill="#003366"></path>
                            </g>
                        </svg><a href="dashboard.html">Quiz</a></li>
                    <li><svg class="navIcon" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" fill="#000000">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <defs>
                                    <style>
                                        .a {
                                            fill: none;
                                            stroke: #003366;
                                            stroke-linecap: round;
                                            stroke-linejoin: round;
                                        }
                                    </style>
                                </defs>
                                <path class="a" d="M6.5,6.5H30.7412V18.6206M18.6206,30.7412H6.5V6.5"></path>
                                <rect class="a" x="19.2586" y="19.2586" width="24.2415" height="24.2415"></rect>
                                <line class="a" x1="16.7068" y1="9.0516" x2="9.0516" y2="19.1948"></line>
                                <line class="a" x1="16.7068" y1="19.1948" x2="9.0516" y2="9.0516"></line>
                                <polyline class="a"
                                    points="34.441 21.81 31.188 31.953 28.126 21.81 24.872 31.953 21.81 21.81">
                                </polyline>
                                <polyline class="a" points="41.14 40.948 41.14 35.845 38.397 39.29 41.778 39.29">
                                </polyline>
                            </g>
                        </svg><a href="#">Palavras
                            Cruzadas</a></li>
                    <li><svg class="navIcon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <g clip-path="url(#003366clip0_429_11067)">
                                    <path d="M15 4.00098H5V18.001C5 19.1055 5.89543 20.001 7 20.001H15" stroke="#003366"
                                        stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                    <path d="M16 15.001L19 12.001M19 12.001L16 9.00098M19 12.001H9" stroke="#003366"
                                        stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                </g>
                                <defs>
                                    <clipPath id="clip0_429_11067">
                                        <rect width="24" height="24" fill="white" transform="translate(0 0.000976562)">
                                        </rect>
                                    </clipPath>
                                </defs>
                            </g>
                        </svg><a href="..\index.html">Sair</a></li>
                </div>
            </div>
        </div>
    </nav>
    <div class="corpo" id="corpo">
        <div id="grid_corpo">
            <div id="corpo_kpi">
                <div id="kpi1">
                    <div id="titulo_kpi">Tempo Restante</div>
                    <div id="countdown" class="info_kpi" style="display: none;"></div>
                </div>
                <div id="kpi2">
                    <div id="titulo_kpi">Pergunta Atual</div>
                    <div id="numeroQuestao" class="info_kpi" style="display: block;"></div>
                </div>
                <div id="kpi3">
                    <div id="titulo_kpi">Perguntas Totais</div>
                    <div class="info_kpi">10</div>
                </div>
                <div id="kpi4">
                    <div id="titulo_kpi">Tentativas Realizadas</div>
                    <div class="info_kpi">4</div>
                </div>
            </div>
            <div class="modal_encerrado" id="modal_encerramento">
                <form class="modal-content animate">
                    <h1>Tempo esgotado! :(</h1>
                    <h2>Deseja tentar mais uma vez?</h2>
                    <button class="botoes_encerrado" id="botao_recomecar" onclick="recomecar()">Recomeçar</button>
                    <button class="botoes_encerrado">Voltar</button>
                </form>


            </div>
            <div class="div_modal_regras" id="id_modal_regras">
                <div class="modal_regras animate" id="modal_regras">

                    <h1 style="text-decoration: underline; display: flex; justify-content: center;">Regras</h1>
                    <div class="topicos_regras">
                        <h2>
                            <li>Você terá 45 segundos por pergunta. </li>
                        </h2>
                        <h2>
                            <li>Cada uma das 10 perguntas terá 4 alternativas, mas só 1 resposta correta.</li>
                        </h2>
                        <h2>
                            <li>Caso acabe o tempo, você precisará reiniciar o quiz. </li>
                        </h2>
                        <h2>
                            <li>Sua pontuação aparecerá ao final do quiz. </li>
                        </h2>
                    </div>
                    <h2 style="margin-left: 19.5vw; text-decoration: underline;">Boa Sorte!</h2>
                    <div class="corpo_botoes_regras">
                        <button class="botoes_encerrado" onclick="voltar()">Voltar</button>
                    </div>
                </div>

            </div>
            <div class="corpo_perguntas">
                <div id="conjunto">
                    <div id="perguntas">
                        <div id="telaInicial">
                            <h2>Bem-vindo(a) ao Quiz Blue Horizon</h2>
                            <button id="comecarQuiz" onclick="updateCountdown()">Começar</button>
                            <button id="regras" onclick="regras()">Regras</button>
                        </div>

                        <div class="quiz-container">
                            <div id="quiz">

                                <div class="pergunta-container">
                                    <div class="pergunta" id="div_perguntas"></div>
                                    <ul class="respostas">

                                    </ul>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div id="respostas">
                        <div>
                            <button class="botoes_respostas" id="botaoA" onclick="enviarResposta('a')">A</button>
                            <button class="botoes_respostas" id="botaoC" onclick="enviarResposta('c')">C</button>
                        </div>
                        <div>
                            <button class="botoes_respostas" id="botaoB" onclick="enviarResposta('b')">B</button>
                            <button class="botoes_respostas" id="botaoD" onclick="enviarResposta('d')">D</button>
                        </div>
                    </div>
                </div>
                <div class="foto_perguntas"> <img src="../assets/imgs/orca.jpg" alt=""></div>
            </div>
        </div>
    </div>
</body>

</html>

<script>

    const numeroQuestao = document.getElementById('numeroQuestao');
    // Selecionando o elemento do countdown
    const countdownElement = document.getElementById('countdown');

    // Definindo a quantidade de segundos
    const INITIAL_SECONDS = 45;
    let seconds = INITIAL_SECONDS;
    const timerIds = [];
    // Função para atualizar o countdown a cada segundo
    function updateCountdown() {

        document.getElementById('countdown').style.display = 'block';
        // Verificando se ainda restam segundos
        if (perguntaAtual >= dadosQuiz.length) {
            countdownElement.textContent = "-";
        } else if (seconds > 0) {
            countdownElement.textContent = seconds + ' seg';
            seconds--;
            const timerId = setTimeout(updateCountdown, 1000); // Chamando a função novamente após 1 segundo
            timerIds.push(timerId);
        } else {
            for (
                let i = 0;
                i < timerIds.length;
                i++
            ) {
                clearTimeout(timerIds[i]);
            }
            countdownElement.textContent = 'Tempo esgotado'; // Mensagem quando o tempo acabar
            document.getElementById('modal_encerramento').style.display = "block"
        }
    }


    document.getElementById('botao_recomecar').addEventListener('click', () => {
        document.getElementById('modal_encerramento').style.display = 'none';
        document.getElementById('telaInicial').style.display = 'block';
        document.getElementById('div_perguntas').style.display = 'none'
        carregarQuiz();

    })

    // Chamando a função pela primeira vez


    const dadosQuiz = [
        {
            pergunta: "Qual é o objetivo principal do Objetivo de Desenvolvimento Sustentável 14 da ONU?",
            a: "Proteger a vida marinha",
            b: "Erradicar a pobreza",
            c: "Promover a igualdade de gênero",
            d: "Aumentar o uso de energias renováveis",
            correta: "a"
        },
        {
            pergunta: "Qual desses animais é conhecido por sua capacidade de mudar de cor para se camuflar?",
            a: "Peixe-palhaço",
            b: "Tubarão-martelo",
            c: "Polvo",
            d: "Baleia-jubarte",
            correta: "c"
        },
        {
            pergunta: "Qual é a função principal dos recifes de coral no ecossistema marinho?",
            a: "Produzir petróleo",
            b: "Ajudar na navegação dos barcos",
            c: "Proteger as costas contra a erosão",
            d: "Aumentar a salinidade da água",
            correta: "c"
        },
        {
            pergunta: "Qual é o maior animal marinho?",
            a: "Tubarão-branco",
            b: "Golfinho",
            c: "Orca",
            d: "Baleia-azul",
            correta: "d"
        },
        {
            pergunta: "Qual destes animais marinhos é conhecido por sua inteligência e capacidade de usar ferramentas?",
            a: "Camarão",
            b: "Golfinho",
            c: "Estrela-do-mar",
            d: "Sardinha",
            correta: "b"
        },
        {
            pergunta: "Qual é o principal problema causado pelo plástico nos oceanos?",
            a: "Aumenta a temperatura da água",
            b: "Diminui o nível do mar",
            c: "Prejudica a vida marinha",
            d: "Aumenta a salinidade da água",
            correta: "c"
        },
        {
            pergunta: "Qual destes é um efeito da acidificação dos oceanos?",
            a: "Aumento da biodiversidade",
            b: "Diminuição das populações de peixes",
            c: "Fortalecimento dos recifes de coral",
            d: "Redução do nível do mar",
            correta: "b"
        },
        {
            pergunta: "Qual é a principal causa da morte das tartarugas marinhas?",
            a: "Poluição por plásticos",
            b: "Ataques de tubarões",
            c: "Mudanças na temperatura da água",
            d: "Falta de comida",
            correta: "a"
        },
        {
            pergunta: "Qual desses animais marinhos é famoso por sua capacidade de 'voar' fora da água?",
            a: "Peixe-voador",
            b: "Golfinho",
            c: "Baleia-cinzenta",
            d: "Polvo",
            correta: "a"
        },
        {
            pergunta: "O que é o fenômeno de branqueamento dos corais?",
            a: "Quando os corais mudam de cor para se reproduzir",
            b: "Quando os corais perdem suas cores devido ao estresse ambiental",
            c: "Quando os corais crescem mais rápido",
            d: "Quando os corais são cobertos por areia branca",
            correta: "b"
        }
    ];

    let perguntaAtual = 0;
    let pontuacao = 0;


    const quizContainer = document.getElementById('quiz');
    const perguntaElemento = document.querySelector('.pergunta');
    const respostasContainer = document.querySelector('.respostas');


    function carregarQuiz() {
        document.getElementById('numeroQuestao').style.display = 'block'
        const quizAtual = dadosQuiz[perguntaAtual];

        numeroQuestao.textContent = `${perguntaAtual + 1}`;

        perguntaElemento.innerText = quizAtual.pergunta;
        respostasContainer.innerHTML =
            `<br>
            <b>A:</b> ${quizAtual.a}<br>
            <b>B:</b> ${quizAtual.b}<br>
            <b>C:</b> ${quizAtual.c}<br>
            <b>D:</b> ${quizAtual.d}<br>`;
    }

    function enviarResposta(respostaSelecionada) {
        seconds = INITIAL_SECONDS;


        if (respostaSelecionada == dadosQuiz[perguntaAtual].correta) {
            pontuacao++;

        }
        perguntaAtual++;

        if (perguntaAtual < dadosQuiz.length) {
            carregarQuiz();
            // numeroQuestao++;

        } else {
            document.getElementById('respostas').style.display = 'none';
            numeroQuestao.style.display = 'none';
            document.getElementById('countdown').style.display = 'none';
            quizContainer.innerHTML = `
            <h2>Sua pontuação: ${pontuacao}/${dadosQuiz.length}</h2>
            <button id="comecarQuiz" onclick="location.reload()">Recarregar</button>
        `;

        }
    }

    document.getElementById('comecarQuiz').addEventListener('click', () => {
        document.getElementById('telaInicial').style.display = 'none';
        document.querySelector('.corpo_perguntas').style.display = 'flex';
        carregarQuiz();

    });
    function regras() {
        document.querySelector('.modal_regras').style.display = 'flex';
    }
    function voltar() {
        document.querySelector('.modal_regras').style.display = 'none';
    }




</script>